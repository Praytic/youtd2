[gd_scene load_steps=52 format=3 uid="uid://cc70ktmpmbjts"]

[ext_resource type="Theme" uid="uid://bql5sxaowafw3" path="res://Resources/Theme/wc3_theme.tres" id="1_r4ocg"]
[ext_resource type="StyleBox" uid="uid://yk4phpxsa6q7" path="res://Resources/Theme/BottomMenuBar/rect_container_left_l.tres" id="3_hbgo8"]
[ext_resource type="Texture2D" uid="uid://c7uoycvu5ii8v" path="res://Resources/Textures/UI/Icons/roll_towers_icon.tres" id="4_nef3x"]
[ext_resource type="Texture2D" uid="uid://1sklksk2awnr" path="res://Resources/Textures/UI/Icons/upgrade_element_icon.tres" id="5_webtk"]
[ext_resource type="Script" path="res://Scenes/HUD/BottomMenuBar.gd" id="6"]
[ext_resource type="Script" path="res://Scenes/HUD/ItemStashMenu.gd" id="8_ww2i1"]
[ext_resource type="PackedScene" uid="uid://1a6qmxkrspc8" path="res://Scenes/HUD/BottomMenuBar/ResourceStatusPanel.tscn" id="9_rbj65"]
[ext_resource type="Script" path="res://Scenes/HUD/BottomMenuBar/Gold.gd" id="10_ewb28"]
[ext_resource type="Script" path="res://Scenes/HUD/BottomMenuBar/KnowledgeTome.gd" id="11_hpp3y"]
[ext_resource type="PackedScene" uid="uid://dan6pqpxexgbi" path="res://Scenes/HUD/Buttons/ItemFilterButton.tscn" id="12_6l3wb"]
[ext_resource type="Script" path="res://Scenes/HUD/BottomMenuBar/FoodStatusPanel.gd" id="13_b8pl0"]
[ext_resource type="ButtonGroup" uid="uid://djd6rxett6r2t" path="res://Resources/UI/ButtonGroup/item_rarity_filter_button_group.tres" id="13_wb254"]
[ext_resource type="Script" path="res://Scenes/HUD/Buttons/ItemRarityFilterButton.gd" id="15_v3m0n"]
[ext_resource type="Script" path="res://Scenes/HUD/Buttons/ItemTypeFilterButton.gd" id="16_24l1e"]
[ext_resource type="ButtonGroup" uid="uid://cycas5vk7h2lw" path="res://Resources/UI/ButtonGroup/item_type_filter_button_group.tres" id="16_qxwth"]
[ext_resource type="StyleBox" uid="uid://8o35dfhhk4km" path="res://Resources/Theme/BottomMenuBar/resource_status_panel.tres" id="20_gir8r"]
[ext_resource type="Texture2D" uid="uid://dnfyls46vqccy" path="res://Resources/Textures/UI/Icons/common_icon.tres" id="23_epww5"]
[ext_resource type="Texture2D" uid="uid://bxqh2nddd7eni" path="res://Resources/Textures/UI/Icons/gold_icon.tres" id="25_tnas5"]
[ext_resource type="Texture2D" uid="uid://bbgnvq4hx2ady" path="res://Resources/Textures/UI/Icons/uncommon_icon.tres" id="26_rmo34"]
[ext_resource type="Texture2D" uid="uid://do0ipsu6xkehe" path="res://Resources/Textures/UI/Icons/rare_icon.tres" id="27_obbs7"]
[ext_resource type="Texture2D" uid="uid://d1d4h6m0klgw1" path="res://Resources/Textures/UI/Icons/knowledge_tome_icon.tres" id="27_ymqsm"]
[ext_resource type="Texture2D" uid="uid://fhntdx77to0k" path="res://Resources/Textures/UI/Icons/unique_icon.tres" id="28_03ksw"]
[ext_resource type="Texture2D" uid="uid://baig85lpi88u" path="res://Resources/Textures/UI/Icons/food_icon.tres" id="29_6duxp"]
[ext_resource type="Texture2D" uid="uid://boxxhen27xatf" path="res://Resources/Textures/UI/Icons/items_icon.tres" id="29_q3mpw"]
[ext_resource type="Texture2D" uid="uid://c50etdjubvudf" path="res://Resources/Textures/UI/Icons/oils_icon.tres" id="32_8lj72"]
[ext_resource type="StyleBox" uid="uid://uiev7wofsglu" path="res://Resources/Theme/BottomMenuBar/rect_container_right_l.tres" id="39_i467a"]
[ext_resource type="Texture2D" uid="uid://h5ppp14fvtrd" path="res://Assets/UI/HUD/horadric_cube.png" id="40_gseps"]

[sub_resource type="StyleBoxTexture" id="StyleBoxTexture_qtpi7"]
texture = ExtResource("23_epww5")
modulate_color = Color(0.588235, 0.588235, 0.588235, 0.588235)

[sub_resource type="StyleBoxTexture" id="StyleBoxTexture_56vm4"]
texture = ExtResource("23_epww5")
modulate_color = Color(0.784314, 0.784314, 0.784314, 0.784314)

[sub_resource type="StyleBoxTexture" id="StyleBoxTexture_dssae"]
texture = ExtResource("23_epww5")

[sub_resource type="StyleBoxTexture" id="StyleBoxTexture_oii3d"]
texture = ExtResource("23_epww5")
modulate_color = Color(0.196078, 0.196078, 0.196078, 0.588235)

[sub_resource type="StyleBoxTexture" id="StyleBoxTexture_o20ob"]
texture = ExtResource("26_rmo34")
modulate_color = Color(0.588235, 0.588235, 0.588235, 0.588235)

[sub_resource type="StyleBoxTexture" id="StyleBoxTexture_l068u"]
texture = ExtResource("26_rmo34")
modulate_color = Color(0.784314, 0.784314, 0.784314, 0.784314)

[sub_resource type="StyleBoxTexture" id="StyleBoxTexture_aoswy"]
texture = ExtResource("26_rmo34")

[sub_resource type="StyleBoxTexture" id="StyleBoxTexture_lu628"]
texture = ExtResource("26_rmo34")
modulate_color = Color(0.196078, 0.196078, 0.196078, 0.588235)

[sub_resource type="StyleBoxTexture" id="StyleBoxTexture_5piem"]
texture = ExtResource("27_obbs7")
modulate_color = Color(0.588235, 0.588235, 0.588235, 0.588235)

[sub_resource type="StyleBoxTexture" id="StyleBoxTexture_o3slk"]
texture = ExtResource("27_obbs7")
modulate_color = Color(0.784314, 0.784314, 0.784314, 0.784314)

[sub_resource type="StyleBoxTexture" id="StyleBoxTexture_xbgks"]
texture = ExtResource("27_obbs7")

[sub_resource type="StyleBoxTexture" id="StyleBoxTexture_4p5to"]
texture = ExtResource("27_obbs7")
modulate_color = Color(0.196078, 0.196078, 0.196078, 0.588235)

[sub_resource type="StyleBoxTexture" id="StyleBoxTexture_twa77"]
texture = ExtResource("28_03ksw")
modulate_color = Color(0.588235, 0.588235, 0.588235, 0.588235)

[sub_resource type="StyleBoxTexture" id="StyleBoxTexture_d2ngo"]
texture = ExtResource("28_03ksw")
modulate_color = Color(0.784314, 0.784314, 0.784314, 0.784314)

[sub_resource type="StyleBoxTexture" id="StyleBoxTexture_olwpn"]
texture = ExtResource("28_03ksw")

[sub_resource type="StyleBoxTexture" id="StyleBoxTexture_hmsb3"]
texture = ExtResource("28_03ksw")
modulate_color = Color(0.196078, 0.196078, 0.196078, 0.588235)

[sub_resource type="StyleBoxTexture" id="StyleBoxTexture_ahejp"]
texture = ExtResource("29_q3mpw")
modulate_color = Color(0.588235, 0.588235, 0.588235, 0.588235)

[sub_resource type="StyleBoxTexture" id="StyleBoxTexture_ib584"]
texture = ExtResource("29_q3mpw")
modulate_color = Color(0.784314, 0.784314, 0.784314, 0.784314)

[sub_resource type="StyleBoxTexture" id="StyleBoxTexture_pexw0"]
texture = ExtResource("29_q3mpw")

[sub_resource type="StyleBoxTexture" id="StyleBoxTexture_w4dok"]
texture = ExtResource("29_q3mpw")
modulate_color = Color(0.196078, 0.196078, 0.196078, 0.588235)

[sub_resource type="StyleBoxTexture" id="StyleBoxTexture_6dht0"]
texture = ExtResource("32_8lj72")
modulate_color = Color(0.588235, 0.588235, 0.588235, 0.588235)

[sub_resource type="StyleBoxTexture" id="StyleBoxTexture_um3tl"]
texture = ExtResource("32_8lj72")
modulate_color = Color(0.784314, 0.784314, 0.784314, 0.784314)

[sub_resource type="StyleBoxTexture" id="StyleBoxTexture_f781c"]
texture = ExtResource("32_8lj72")

[sub_resource type="StyleBoxTexture" id="StyleBoxTexture_srwu8"]
texture = ExtResource("32_8lj72")
modulate_color = Color(0.196078, 0.196078, 0.196078, 0.588235)

[node name="BottomMenuBar" type="Control" node_paths=PackedStringArray("_roll_towers_button", "_upgrade_element_button")]
custom_minimum_size = Vector2(1517, 288)
layout_mode = 3
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
offset_right = -1043.0
offset_bottom = -1152.0
grow_horizontal = 2
grow_vertical = 2
mouse_force_pass_scroll_events = false
theme = ExtResource("1_r4ocg")
script = ExtResource("6")
_roll_towers_button = NodePath("HBoxContainer/CentralMenu2/VBoxContainer/MarginContainer2/HBoxContainer3/HBoxContainer/ItemFilterButton4")
_upgrade_element_button = NodePath("HBoxContainer/CentralMenu2/VBoxContainer/MarginContainer2/HBoxContainer3/HBoxContainer/ItemFilterButton3")
metadata/_edit_vertical_guides_ = [1280.0]

[node name="HBoxContainer" type="HBoxContainer" parent="."]
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
theme_override_constants/separation = -2

[node name="MarginContainer3" type="MarginContainer" parent="HBoxContainer"]
layout_mode = 2
theme_override_constants/margin_bottom = -25

[node name="PanelContainer" type="PanelContainer" parent="HBoxContainer/MarginContainer3"]
custom_minimum_size = Vector2(180, 253)
layout_mode = 2
size_flags_horizontal = 4
size_flags_vertical = 4
theme_override_styles/panel = ExtResource("3_hbgo8")

[node name="VBoxContainer" type="VBoxContainer" parent="HBoxContainer/MarginContainer3/PanelContainer"]
layout_mode = 2

[node name="Label" type="Label" parent="HBoxContainer/MarginContainer3/PanelContainer/VBoxContainer"]
layout_mode = 2
theme_override_font_sizes/font_size = 32
text = "Towers"
horizontal_alignment = 1
vertical_alignment = 1

[node name="RollTowersButton" type="Button" parent="HBoxContainer/MarginContainer3/PanelContainer/VBoxContainer"]
layout_mode = 2
tooltip_text = "Roll new towers"
theme_type_variation = &"MenuButton"
theme_override_constants/icon_max_width = 64
theme_override_font_sizes/font_size = 26
text = "Roll
towers"
icon = ExtResource("4_nef3x")

[node name="UpgradeElementButton" type="Button" parent="HBoxContainer/MarginContainer3/PanelContainer/VBoxContainer"]
layout_mode = 2
tooltip_text = "Research the selected element. This will increase
 the level of the element by 1. The higher the 
element level, the greater the rarity of the towers
 and the higher the chance they will drop after 
each wave is cleared."
theme_type_variation = &"MenuButton"
theme_override_constants/icon_max_width = 64
theme_override_font_sizes/font_size = 26
text = "Research
element"
icon = ExtResource("5_webtk")

[node name="MarginContainer" type="MarginContainer" parent="HBoxContainer"]
layout_mode = 2
theme_override_constants/margin_bottom = -25

[node name="VBoxContainer" type="VBoxContainer" parent="HBoxContainer/MarginContainer"]
layout_mode = 2
size_flags_horizontal = 4
size_flags_vertical = 4

[node name="CenterMenu" type="PanelContainer" parent="HBoxContainer/MarginContainer/VBoxContainer"]
custom_minimum_size = Vector2(0, 254)
layout_mode = 2
size_flags_horizontal = 4
size_flags_vertical = 4
theme_type_variation = &"CenterPanel"

[node name="MarginContainer" type="MarginContainer" parent="HBoxContainer/MarginContainer/VBoxContainer/CenterMenu"]
layout_mode = 2

[node name="CenterMenu" type="VBoxContainer" parent="HBoxContainer/MarginContainer/VBoxContainer/CenterMenu/MarginContainer"]
custom_minimum_size = Vector2(180, 0)
layout_mode = 2
size_flags_vertical = 4
theme_override_constants/separation = 6
alignment = 1

[node name="Label" type="Label" parent="HBoxContainer/MarginContainer/VBoxContainer/CenterMenu/MarginContainer/CenterMenu"]
layout_mode = 2
text = "You TD 2"
horizontal_alignment = 1
vertical_alignment = 1

[node name="GoldStatusPanel" parent="HBoxContainer/MarginContainer/VBoxContainer/CenterMenu/MarginContainer/CenterMenu" instance=ExtResource("9_rbj65")]
layout_mode = 2
theme_override_styles/panel = ExtResource("20_gir8r")
script = ExtResource("10_ewb28")
icon_texture = ExtResource("25_tnas5")
default_label_text = "0"

[node name="KnowledgeTomeStatusPanel" parent="HBoxContainer/MarginContainer/VBoxContainer/CenterMenu/MarginContainer/CenterMenu" instance=ExtResource("9_rbj65")]
layout_mode = 2
theme_override_styles/panel = ExtResource("20_gir8r")
script = ExtResource("11_hpp3y")
icon_texture = ExtResource("27_ymqsm")
default_label_text = "0"

[node name="FoodStatusPanel" parent="HBoxContainer/MarginContainer/VBoxContainer/CenterMenu/MarginContainer/CenterMenu" instance=ExtResource("9_rbj65")]
layout_mode = 2
theme_override_styles/panel = ExtResource("20_gir8r")
script = ExtResource("13_b8pl0")
icon_texture = ExtResource("29_6duxp")
default_label_text = "0/60"

[node name="CentralMenu2" type="MarginContainer" parent="HBoxContainer"]
layout_mode = 2
size_flags_horizontal = 3
size_flags_stretch_ratio = 0.4
theme_override_constants/margin_bottom = 42

[node name="VBoxContainer" type="VBoxContainer" parent="HBoxContainer/CentralMenu2"]
layout_mode = 2
size_flags_horizontal = 3
theme_override_constants/separation = 0

[node name="MarginContainer2" type="MarginContainer" parent="HBoxContainer/CentralMenu2/VBoxContainer"]
layout_mode = 2
theme_override_constants/margin_left = 5
theme_override_constants/margin_right = 5
theme_override_constants/margin_bottom = 2

[node name="HBoxContainer3" type="HBoxContainer" parent="HBoxContainer/CentralMenu2/VBoxContainer/MarginContainer2"]
layout_mode = 2

[node name="HBoxContainer" type="HBoxContainer" parent="HBoxContainer/CentralMenu2/VBoxContainer/MarginContainer2/HBoxContainer3"]
layout_mode = 2
size_flags_horizontal = 0

[node name="ItemFilterButton1" parent="HBoxContainer/CentralMenu2/VBoxContainer/MarginContainer2/HBoxContainer3/HBoxContainer" instance=ExtResource("12_6l3wb")]
layout_mode = 2
tooltip_text = "Show only common items"
theme_override_styles/normal = SubResource("StyleBoxTexture_qtpi7")
theme_override_styles/hover = SubResource("StyleBoxTexture_56vm4")
theme_override_styles/pressed = SubResource("StyleBoxTexture_dssae")
theme_override_styles/disabled = SubResource("StyleBoxTexture_oii3d")
button_group = ExtResource("13_wb254")
icon = null
script = ExtResource("15_v3m0n")
filter_value = 0

[node name="ItemFilterButton2" parent="HBoxContainer/CentralMenu2/VBoxContainer/MarginContainer2/HBoxContainer3/HBoxContainer" instance=ExtResource("12_6l3wb")]
layout_mode = 2
tooltip_text = "Show only uncommon items"
theme_override_styles/normal = SubResource("StyleBoxTexture_o20ob")
theme_override_styles/hover = SubResource("StyleBoxTexture_l068u")
theme_override_styles/pressed = SubResource("StyleBoxTexture_aoswy")
theme_override_styles/disabled = SubResource("StyleBoxTexture_lu628")
button_group = ExtResource("13_wb254")
icon = null
script = ExtResource("15_v3m0n")
filter_value = 1

[node name="ItemFilterButton3" parent="HBoxContainer/CentralMenu2/VBoxContainer/MarginContainer2/HBoxContainer3/HBoxContainer" instance=ExtResource("12_6l3wb")]
layout_mode = 2
tooltip_text = "Show only rare items"
theme_override_styles/normal = SubResource("StyleBoxTexture_5piem")
theme_override_styles/hover = SubResource("StyleBoxTexture_o3slk")
theme_override_styles/pressed = SubResource("StyleBoxTexture_xbgks")
theme_override_styles/disabled = SubResource("StyleBoxTexture_4p5to")
button_group = ExtResource("13_wb254")
icon = null
script = ExtResource("15_v3m0n")
filter_value = 2

[node name="ItemFilterButton4" parent="HBoxContainer/CentralMenu2/VBoxContainer/MarginContainer2/HBoxContainer3/HBoxContainer" instance=ExtResource("12_6l3wb")]
layout_mode = 2
tooltip_text = "Show only unique items"
theme_override_styles/normal = SubResource("StyleBoxTexture_twa77")
theme_override_styles/hover = SubResource("StyleBoxTexture_d2ngo")
theme_override_styles/pressed = SubResource("StyleBoxTexture_olwpn")
theme_override_styles/disabled = SubResource("StyleBoxTexture_hmsb3")
button_group = ExtResource("13_wb254")
icon = null
script = ExtResource("15_v3m0n")
filter_value = 3

[node name="HBoxContainer2" type="HBoxContainer" parent="HBoxContainer/CentralMenu2/VBoxContainer/MarginContainer2/HBoxContainer3"]
layout_mode = 2
size_flags_horizontal = 10
alignment = 2

[node name="ItemFilterButton1" parent="HBoxContainer/CentralMenu2/VBoxContainer/MarginContainer2/HBoxContainer3/HBoxContainer2" instance=ExtResource("12_6l3wb")]
layout_mode = 2
tooltip_text = "Show only regular items"
theme_override_styles/normal = SubResource("StyleBoxTexture_ahejp")
theme_override_styles/hover = SubResource("StyleBoxTexture_ib584")
theme_override_styles/pressed = SubResource("StyleBoxTexture_pexw0")
theme_override_styles/disabled = SubResource("StyleBoxTexture_w4dok")
button_group = ExtResource("16_qxwth")
icon = null
script = ExtResource("16_24l1e")
filter_value = Array[int]([0])

[node name="ItemFilterButton2" parent="HBoxContainer/CentralMenu2/VBoxContainer/MarginContainer2/HBoxContainer3/HBoxContainer2" instance=ExtResource("12_6l3wb")]
layout_mode = 2
tooltip_text = "Show only oils and consumables"
theme_override_styles/normal = SubResource("StyleBoxTexture_6dht0")
theme_override_styles/hover = SubResource("StyleBoxTexture_um3tl")
theme_override_styles/pressed = SubResource("StyleBoxTexture_f781c")
theme_override_styles/disabled = SubResource("StyleBoxTexture_srwu8")
button_group = ExtResource("16_qxwth")
icon = null
script = ExtResource("16_24l1e")
filter_value = Array[int]([1, 2])

[node name="MarginContainer" type="PanelContainer" parent="HBoxContainer/CentralMenu2/VBoxContainer"]
layout_mode = 2
size_flags_vertical = 3
size_flags_stretch_ratio = 2.0
theme_type_variation = &"SidePanel"

[node name="ScrollContainer" type="ScrollContainer" parent="HBoxContainer/CentralMenu2/VBoxContainer/MarginContainer"]
layout_mode = 2
vertical_scroll_mode = 0

[node name="StashMarginContainer" type="MarginContainer" parent="HBoxContainer/CentralMenu2/VBoxContainer/MarginContainer/ScrollContainer"]
clip_contents = true
layout_mode = 2
size_flags_horizontal = 3
size_flags_vertical = 3
theme_override_constants/margin_left = 80
theme_override_constants/margin_top = 30
theme_override_constants/margin_right = 80
theme_override_constants/margin_bottom = 15

[node name="ItemStashMenu" type="GridContainer" parent="HBoxContainer/CentralMenu2/VBoxContainer/MarginContainer/ScrollContainer/StashMarginContainer"]
layout_mode = 2
mouse_filter = 2
theme_override_constants/h_separation = 140
columns = 999
script = ExtResource("8_ww2i1")

[node name="MarginContainer2" type="MarginContainer" parent="HBoxContainer"]
layout_mode = 2
theme_override_constants/margin_bottom = -25

[node name="PanelContainer" type="PanelContainer" parent="HBoxContainer/MarginContainer2"]
custom_minimum_size = Vector2(180, 253)
layout_mode = 2
size_flags_horizontal = 4
size_flags_vertical = 4
theme_override_styles/panel = ExtResource("39_i467a")

[node name="VBoxContainer" type="VBoxContainer" parent="HBoxContainer/MarginContainer2/PanelContainer"]
layout_mode = 2

[node name="Label" type="Label" parent="HBoxContainer/MarginContainer2/PanelContainer/VBoxContainer"]
layout_mode = 2
theme_override_font_sizes/font_size = 32
text = "Items"
horizontal_alignment = 1
vertical_alignment = 1

[node name="AspectRatioContainer" type="AspectRatioContainer" parent="HBoxContainer/MarginContainer2/PanelContainer/VBoxContainer"]
layout_mode = 2
size_flags_vertical = 3

[node name="HoradricCubeButton" type="Button" parent="HBoxContainer/MarginContainer2/PanelContainer/VBoxContainer/AspectRatioContainer"]
layout_mode = 2
size_flags_vertical = 0
tooltip_text = "Open Horadric Cube"
theme_type_variation = &"MenuButton"
theme_override_constants/icon_max_width = 64
theme_override_font_sizes/font_size = 26
text = "Horadric
cube"
icon = ExtResource("40_gseps")

[connection signal="pressed" from="HBoxContainer/MarginContainer3/PanelContainer/VBoxContainer/RollTowersButton" to="." method="_on_roll_towers_button_pressed"]
[connection signal="mouse_entered" from="HBoxContainer/MarginContainer3/PanelContainer/VBoxContainer/UpgradeElementButton" to="." method="_on_upgrade_element_mouse_entered"]
[connection signal="pressed" from="HBoxContainer/MarginContainer3/PanelContainer/VBoxContainer/UpgradeElementButton" to="." method="_on_upgrade_element_button_pressed"]
[connection signal="gui_input" from="HBoxContainer/CentralMenu2/VBoxContainer/MarginContainer/ScrollContainer/StashMarginContainer" to="." method="_on_stash_margin_container_gui_input"]
[connection signal="pressed" from="HBoxContainer/MarginContainer2/PanelContainer/VBoxContainer/AspectRatioContainer/HoradricCubeButton" to="." method="_on_horadric_cube_button_pressed"]
